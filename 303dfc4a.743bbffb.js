(window.webpackJsonp=window.webpackJsonp||[]).push([[8],{106:function(e,t,n){"use strict";n.d(t,"a",(function(){return u})),n.d(t,"b",(function(){return h}));var r=n(0),a=n.n(r);function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){i(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function s(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var l=a.a.createContext({}),p=function(e){var t=a.a.useContext(l),n=t;return e&&(n="function"==typeof e?e(t):c(c({},t),e)),n},u=function(e){var t=p(e.components);return a.a.createElement(l.Provider,{value:t},e.children)},d={inlineCode:"code",wrapper:function(e){var t=e.children;return a.a.createElement(a.a.Fragment,{},t)}},b=a.a.forwardRef((function(e,t){var n=e.components,r=e.mdxType,i=e.originalType,o=e.parentName,l=s(e,["components","mdxType","originalType","parentName"]),u=p(n),b=r,h=u["".concat(o,".").concat(b)]||u[b]||d[b]||i;return n?a.a.createElement(h,c(c({ref:t},l),{},{components:n})):a.a.createElement(h,c({ref:t},l))}));function h(e,t){var n=arguments,r=t&&t.mdxType;if("string"==typeof e||r){var i=n.length,o=new Array(i);o[0]=b;var c={};for(var s in t)hasOwnProperty.call(t,s)&&(c[s]=t[s]);c.originalType=e,c.mdxType="string"==typeof e?e:r,o[1]=c;for(var l=2;l<i;l++)o[l]=n[l];return a.a.createElement.apply(null,o)}return a.a.createElement.apply(null,n)}b.displayName="MDXCreateElement"},80:function(e,t,n){"use strict";n.r(t),n.d(t,"frontMatter",(function(){return i})),n.d(t,"metadata",(function(){return o})),n.d(t,"toc",(function(){return c})),n.d(t,"default",(function(){return l}));var r=n(3),a=(n(0),n(106));const i={title:"Inside the engine"},o={unversionedId:"inside-the-engine",id:"inside-the-engine",isDocsHomePage:!1,title:"Inside the engine",description:"This page explains in more detail how the crawler extracts content from your",source:"@site/docs/inside-the-engine.md",slug:"/inside-the-engine",permalink:"/docs/inside-the-engine",version:"current",sidebar:"docs",previous:{title:"Scraper Overview",permalink:"/docs/scraper"},next:{title:"Config Files",permalink:"/docs/config-file"}},c=[{value:"Crawling",id:"crawling",children:[]},{value:"Extracting content",id:"extracting-content",children:[]},{value:"Ranking records",id:"ranking-records",children:[]}],s={toc:c};function l({components:e,...t}){return Object(a.b)("wrapper",Object(r.a)({},s,t,{components:e,mdxType:"MDXLayout"}),Object(a.b)("p",null,"This page explains in more detail how the crawler extracts content from your\npage every 24 hours, and how it ranks the results."),Object(a.b)("h2",{id:"crawling"},"Crawling"),Object(a.b)("p",null,"Each crawl begins its journey at ",Object(a.b)("inlineCode",{parentName:"p"},"start_urls")," value specified in your config. It\nwill read those pages, recursively extract and follow every link in those pages\nuntil it has browsed every compliant page."),Object(a.b)("p",null,"If you have explicitly defined a ",Object(a.b)("inlineCode",{parentName:"p"},"sitemap.xml"),", our crawler will scrape every\nprovided and compliant page. We do recommend using ",Object(a.b)("a",Object(r.a)({parentName:"p"},{href:"https://www.sitemaps.org/"}),"a sitemap")," since it\nexplicitly exposes URLs to crawl and avoid missing pages that aren't linked from\nanother one."),Object(a.b)("h2",{id:"extracting-content"},"Extracting content"),Object(a.b)("p",null,"Building records using the scraper is pretty intuitive. Based to your settings,\nwe extract the payload of your web page and index it, preserving your data\nstructure. It achieves this in a simple way:"),Object(a.b)("ul",null,Object(a.b)("li",{parentName:"ul"},"We ",Object(a.b)("strong",{parentName:"li"},"read top down")," your web page following your HTML flow and pick out your\nmatching elements according to their ",Object(a.b)("strong",{parentName:"li"},"levels")," based on the ",Object(a.b)("inlineCode",{parentName:"li"},"selectors_level"),"\ndefined."),Object(a.b)("li",{parentName:"ul"},"We create a record for each paragraph along with its hierarchical path. This\nconstruction is based on their ",Object(a.b)("strong",{parentName:"li"},"time of appearance")," along the flow."),Object(a.b)("li",{parentName:"ul"},"We ",Object(a.b)("strong",{parentName:"li"},"index")," these records with the appropriate global settings (e.g.\nmetadata, tags, etc.)")),Object(a.b)("p",null,Object(a.b)("em",{parentName:"p"},Object(a.b)("strong",{parentName:"em"},"Note:")," The above process performs sanity tests as it scrapes to detect\nerrors. If there are any serious warnings, it aborts and hence does not\noverwrite your current index. These checks ensure that your dedicated index\nisn't flushed.")),Object(a.b)("p",null,"You can ",Object(a.b)("a",Object(r.a)({parentName:"p"},{href:"/docs/how-do-we-build-an-index"}),"find more explanations in this dedicated section.")),Object(a.b)("h2",{id:"ranking-records"},"Ranking records"),Object(a.b)("p",null,"Algolia always returns the most relevant results first, using a ",Object(a.b)("a",Object(r.a)({parentName:"p"},{href:"https://www.algolia.com/doc/guides/ranking/ranking-formula/#tie-breaking-approach"}),"tie-breaking\napproach"),". DocSearch will first search for exact matches in your keywords,\nand then fallback to partial matches. It sorts those results, once again, on the\npage hierarchy, as extracted from the ",Object(a.b)("inlineCode",{parentName:"p"},"selectors"),"."),Object(a.b)("p",null,"The default strategy is to promote records having matching words in the highest\nlevel first. Thus if two results have the same matching words, the one having\nthem in the highest level (",Object(a.b)("inlineCode",{parentName:"p"},"lvl0"),") will be ranked higher. We also use the\nposition of the matching words. The sooner they appear within the HTML flow, the\nhigher the record will be ranked."),Object(a.b)("p",null,"We base relevancy on several factors and customize it according to the Algolia\ntie-breaking method."),Object(a.b)("p",null,"You can boost pages depending on their URLs. You should use the ",Object(a.b)("inlineCode",{parentName:"p"},"start_urls")," and\nits ",Object(a.b)("inlineCode",{parentName:"p"},"page_rank")," attributes. Its value is a numeric value (defaults to 0). The\nhigher the value is, the higher results from the matching pages are ranked. For\nexample, all pages with a ",Object(a.b)("inlineCode",{parentName:"p"},"page_rank")," of 5 will be returned before pages with a\n",Object(a.b)("inlineCode",{parentName:"p"},"page_rank")," of 1."),Object(a.b)("p",null,"You could even change the relevancy strategy by ",Object(a.b)("a",Object(r.a)({parentName:"p"},{href:"https://www.algolia.com/doc/guides/ranking/custom-ranking/"}),"overwriting the default\n",Object(a.b)("inlineCode",{parentName:"a"},"customRanking"))," used by the index by using the ",Object(a.b)("inlineCode",{parentName:"p"},"custom_settings")," option of\nyour config."))}l.isMDXComponent=!0}}]);