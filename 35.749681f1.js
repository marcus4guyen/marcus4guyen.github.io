/*! For license information please see 35.749681f1.js.LICENSE.txt */
(window.webpackJsonp=window.webpackJsonp||[]).push([[35],{165:function(e,t,r){"use strict";const n=r(166),o=r(167),a=r(168);function u(e){if("string"!=typeof e||1!==e.length)throw new TypeError("arrayFormatSeparator must be single character string")}function s(e,t){return t.encode?t.strict?n(e):encodeURIComponent(e):e}function i(e,t){return t.decode?o(e):e}function c(e){return Array.isArray(e)?e.sort():"object"==typeof e?c(Object.keys(e)).sort(((e,t)=>Number(e)-Number(t))).map((t=>e[t])):e}function f(e){const t=e.indexOf("#");return-1!==t&&(e=e.slice(0,t)),e}function l(e){const t=(e=f(e)).indexOf("?");return-1===t?"":e.slice(t+1)}function p(e,t){return t.parseNumbers&&!Number.isNaN(Number(e))&&"string"==typeof e&&""!==e.trim()?e=Number(e):!t.parseBooleans||null===e||"true"!==e.toLowerCase()&&"false"!==e.toLowerCase()||(e="true"===e.toLowerCase()),e}function d(e,t){u((t=Object.assign({decode:!0,sort:!0,arrayFormat:"none",arrayFormatSeparator:",",parseNumbers:!1,parseBooleans:!1},t)).arrayFormatSeparator);const r=function(e){let t;switch(e.arrayFormat){case"index":return(e,r,n)=>{t=/\[(\d*)\]$/.exec(e),e=e.replace(/\[\d*\]$/,""),t?(void 0===n[e]&&(n[e]={}),n[e][t[1]]=r):n[e]=r};case"bracket":return(e,r,n)=>{t=/(\[\])$/.exec(e),e=e.replace(/\[\]$/,""),t?void 0!==n[e]?n[e]=[].concat(n[e],r):n[e]=[r]:n[e]=r};case"comma":case"separator":return(t,r,n)=>{const o="string"==typeof r&&r.split("").indexOf(e.arrayFormatSeparator)>-1?r.split(e.arrayFormatSeparator).map((t=>i(t,e))):null===r?r:i(r,e);n[t]=o};default:return(e,t,r)=>{void 0!==r[e]?r[e]=[].concat(r[e],t):r[e]=t}}}(t),n=Object.create(null);if("string"!=typeof e)return n;if(!(e=e.trim().replace(/^[?#&]/,"")))return n;for(const o of e.split("&")){let[e,u]=a(t.decode?o.replace(/\+/g," "):o,"=");u=void 0===u?null:["comma","separator"].includes(t.arrayFormat)?u:i(u,t),r(i(e,t),u,n)}for(const o of Object.keys(n)){const e=n[o];if("object"==typeof e&&null!==e)for(const r of Object.keys(e))e[r]=p(e[r],t);else n[o]=p(e,t)}return!1===t.sort?n:(!0===t.sort?Object.keys(n).sort():Object.keys(n).sort(t.sort)).reduce(((e,t)=>{const r=n[t];return Boolean(r)&&"object"==typeof r&&!Array.isArray(r)?e[t]=c(r):e[t]=r,e}),Object.create(null))}t.extract=l,t.parse=d,t.stringify=(e,t)=>{if(!e)return"";u((t=Object.assign({encode:!0,strict:!0,arrayFormat:"none",arrayFormatSeparator:","},t)).arrayFormatSeparator);const r=r=>t.skipNull&&null==e[r]||t.skipEmptyString&&""===e[r],n=function(e){switch(e.arrayFormat){case"index":return t=>(r,n)=>{const o=r.length;return void 0===n||e.skipNull&&null===n||e.skipEmptyString&&""===n?r:null===n?[...r,[s(t,e),"[",o,"]"].join("")]:[...r,[s(t,e),"[",s(o,e),"]=",s(n,e)].join("")]};case"bracket":return t=>(r,n)=>void 0===n||e.skipNull&&null===n||e.skipEmptyString&&""===n?r:null===n?[...r,[s(t,e),"[]"].join("")]:[...r,[s(t,e),"[]=",s(n,e)].join("")];case"comma":case"separator":return t=>(r,n)=>null==n||0===n.length?r:0===r.length?[[s(t,e),"=",s(n,e)].join("")]:[[r,s(n,e)].join(e.arrayFormatSeparator)];default:return t=>(r,n)=>void 0===n||e.skipNull&&null===n||e.skipEmptyString&&""===n?r:null===n?[...r,s(t,e)]:[...r,[s(t,e),"=",s(n,e)].join("")]}}(t),o={};for(const u of Object.keys(e))r(u)||(o[u]=e[u]);const a=Object.keys(o);return!1!==t.sort&&a.sort(t.sort),a.map((r=>{const o=e[r];return void 0===o?"":null===o?s(r,t):Array.isArray(o)?o.reduce(n(r),[]).join("&"):s(r,t)+"="+s(o,t)})).filter((e=>e.length>0)).join("&")},t.parseUrl=(e,t)=>({url:f(e).split("?")[0]||"",query:d(l(e),t)}),t.stringifyUrl=(e,r)=>{const n=f(e.url).split("?")[0]||"",o=t.extract(e.url),a=t.parse(o),u=function(e){let t="";const r=e.indexOf("#");return-1!==r&&(t=e.slice(r)),t}(e.url),s=Object.assign(a,e.query);let i=t.stringify(s,r);return i&&(i=`?${i}`),`${n}${i}${u}`}},166:function(e,t,r){"use strict";e.exports=e=>encodeURIComponent(e).replace(/[!'()*]/g,(e=>`%${e.charCodeAt(0).toString(16).toUpperCase()}`))},167:function(e,t,r){"use strict";var n="%[a-f0-9]{2}",o=new RegExp(n,"gi"),a=new RegExp("("+n+")+","gi");function u(e,t){try{return decodeURIComponent(e.join(""))}catch(o){}if(1===e.length)return e;t=t||1;var r=e.slice(0,t),n=e.slice(t);return Array.prototype.concat.call([],u(r),u(n))}function s(e){try{return decodeURIComponent(e)}catch(n){for(var t=e.match(o),r=1;r<t.length;r++)t=(e=u(t,r).join("")).match(o);return e}}e.exports=function(e){if("string"!=typeof e)throw new TypeError("Expected `encodedURI` to be of type `string`, got `"+typeof e+"`");try{return e=e.replace(/\+/g," "),decodeURIComponent(e)}catch(t){return function(e){for(var r={"%FE%FF":"\ufffd\ufffd","%FF%FE":"\ufffd\ufffd"},n=a.exec(e);n;){try{r[n[0]]=decodeURIComponent(n[0])}catch(t){var o=s(n[0]);o!==n[0]&&(r[n[0]]=o)}n=a.exec(e)}r["%C2"]="\ufffd";for(var u=Object.keys(r),i=0;i<u.length;i++){var c=u[i];e=e.replace(new RegExp(c,"g"),r[c])}return e}(e)}}},168:function(e,t,r){"use strict";e.exports=(e,t)=>{if("string"!=typeof e||"string"!=typeof t)throw new TypeError("Expected the arguments to be of type `string`");if(""===t)return[e];const r=e.indexOf(t);return-1===r?[e]:[e.slice(0,r),e.slice(r+t.length)]}},446:function(e,t,r){e.exports=function(){"use strict";function e(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function t(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function r(r){for(var n=1;n<arguments.length;n++){var o=null!=arguments[n]?arguments[n]:{};n%2?t(Object(o),!0).forEach((function(t){e(r,t,o[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(o)):t(Object(o)).forEach((function(e){Object.defineProperty(r,e,Object.getOwnPropertyDescriptor(o,e))}))}return r}function n(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}function o(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)){var r=[],n=!0,o=!1,a=void 0;try{for(var u,s=e[Symbol.iterator]();!(n=(u=s.next()).done)&&(r.push(u.value),!t||r.length!==t);n=!0);}catch(e){o=!0,a=e}finally{try{n||null==s.return||s.return()}finally{if(o)throw a}}return r}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function a(e){return function(e){if(Array.isArray(e)){for(var t=0,r=new Array(e.length);t<e.length;t++)r[t]=e[t];return r}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function u(e){var t,r="algoliasearch-client-js-".concat(e.key),n=function(){return void 0===t&&(t=e.localStorage||window.localStorage),t},a=function(){return JSON.parse(n().getItem(r)||"{}")};return{get:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{miss:function(){return Promise.resolve()}};return Promise.resolve().then((function(){var r=JSON.stringify(e),n=a()[r];return Promise.all([n||t(),void 0!==n])})).then((function(e){var t=o(e,2),n=t[0],a=t[1];return Promise.all([n,a||r.miss(n)])})).then((function(e){return o(e,1)[0]}))},set:function(e,t){return Promise.resolve().then((function(){var o=a();return o[JSON.stringify(e)]=t,n().setItem(r,JSON.stringify(o)),t}))},delete:function(e){return Promise.resolve().then((function(){var t=a();delete t[JSON.stringify(e)],n().setItem(r,JSON.stringify(t))}))},clear:function(){return Promise.resolve().then((function(){n().removeItem(r)}))}}}function s(e){var t=a(e.caches),r=t.shift();return void 0===r?{get:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{miss:function(){return Promise.resolve()}};return t().then((function(e){return Promise.all([e,r.miss(e)])})).then((function(e){return o(e,1)[0]}))},set:function(e,t){return Promise.resolve(t)},delete:function(e){return Promise.resolve()},clear:function(){return Promise.resolve()}}:{get:function(e,n){var o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{miss:function(){return Promise.resolve()}};return r.get(e,n,o).catch((function(){return s({caches:t}).get(e,n,o)}))},set:function(e,n){return r.set(e,n).catch((function(){return s({caches:t}).set(e,n)}))},delete:function(e){return r.delete(e).catch((function(){return s({caches:t}).delete(e)}))},clear:function(){return r.clear().catch((function(){return s({caches:t}).clear()}))}}}function i(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{serializable:!0},t={};return{get:function(r,n){var o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{miss:function(){return Promise.resolve()}},a=JSON.stringify(r);if(a in t)return Promise.resolve(e.serializable?JSON.parse(t[a]):t[a]);var u=n(),s=o&&o.miss||function(){return Promise.resolve()};return u.then((function(e){return s(e)})).then((function(){return u}))},set:function(r,n){return t[JSON.stringify(r)]=e.serializable?JSON.stringify(n):n,Promise.resolve(n)},delete:function(e){return delete t[JSON.stringify(e)],Promise.resolve()},clear:function(){return t={},Promise.resolve()}}}function c(e,t,r){var n={"x-algolia-api-key":r,"x-algolia-application-id":t};return{headers:function(){return e===m.WithinHeaders?n:{}},queryParameters:function(){return e===m.WithinQueryParameters?n:{}}}}function f(e){var t=0;return e((function r(){return t++,new Promise((function(n){setTimeout((function(){n(e(r))}),Math.min(100*t,1e3))}))}))}function l(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(e,t){return Promise.resolve()};return Object.assign(e,{wait:function(r){return l(e.then((function(e){return Promise.all([t(e,r),e])})).then((function(e){return e[1]})))}})}function p(e){for(var t=e.length-1;t>0;t--){var r=Math.floor(Math.random()*(t+1)),n=e[t];e[t]=e[r],e[r]=n}return e}function d(e,t){return Object.keys(void 0!==t?t:{}).forEach((function(r){e[r]=t[r](e)})),e}function h(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];var o=0;return e.replace(/%s/g,(function(){return encodeURIComponent(r[o++])}))}var m={WithinQueryParameters:0,WithinHeaders:1};function y(e,t){var r=e||{},n=r.data||{};return Object.keys(r).forEach((function(e){-1===["timeout","headers","queryParameters","data","cacheable"].indexOf(e)&&(n[e]=r[e])})),{data:Object.entries(n).length>0?n:void 0,timeout:r.timeout||t,headers:r.headers||{},queryParameters:r.queryParameters||{},cacheable:r.cacheable}}var g={Read:1,Write:2,Any:3},v=1,b=2,j=3;function O(e){return r({},e,{status:arguments.length>1&&void 0!==arguments[1]?arguments[1]:v,lastUpdate:Date.now()})}function w(e){return{protocol:e.protocol||"https",url:e.url,accept:e.accept||g.Any}}var x="DELETE",P="GET",I="POST",k="PUT";function S(e,t){return Promise.all(t.map((function(t){return e.get(t,(function(){return Promise.resolve(O(t))}))}))).then((function(e){var r=e.filter((function(e){return function(e){return e.status===v||Date.now()-e.lastUpdate>12e4}(e)})),n=e.filter((function(e){return function(e){return e.status===j&&Date.now()-e.lastUpdate<=12e4}(e)})),o=[].concat(a(r),a(n));return{getTimeout:function(e,t){return(0===n.length&&0===e?1:n.length+3+e)*t},statelessHosts:o.length>0?o.map((function(e){return w(e)})):t}}))}function q(e,t,n,o){var u=[],s=function(e,t){if(e.method!==P&&(void 0!==e.data||void 0!==t.data)){var n=Array.isArray(e.data)?e.data:r({},e.data,{},t.data);return JSON.stringify(n)}}(n,o),i=function(e,t){var n=r({},e.headers,{},t.headers),o={};return Object.keys(n).forEach((function(e){var t=n[e];o[e.toLowerCase()]=t})),o}(e,o),c=n.method,f=n.method!==P?{}:r({},n.data,{},o.data),l=r({"x-algolia-agent":e.userAgent.value},e.queryParameters,{},f,{},o.queryParameters),p=0,d=function t(r,a){var f=r.pop();if(void 0===f)throw{name:"RetryError",message:"Unreachable hosts - your application id may be incorrect. If the error persists, contact support@algolia.com.",transporterStackTrace:A(u)};var d={data:s,headers:i,method:c,url:T(f,n.path,l),connectTimeout:a(p,e.timeouts.connect),responseTimeout:a(p,o.timeout)},h=function(e){var t={request:d,response:e,host:f,triesLeft:r.length};return u.push(t),t},m={onSucess:function(e){return function(e){try{return JSON.parse(e.content)}catch(t){throw function(e,t){return{name:"DeserializationError",message:e,response:t}}(t.message,e)}}(e)},onRetry:function(n){var o=h(n);return n.isTimedOut&&p++,Promise.all([e.logger.info("Retryable failure",E(o)),e.hostsCache.set(f,O(f,n.isTimedOut?j:b))]).then((function(){return t(r,a)}))},onFail:function(e){throw h(e),function(e,t){var r=e.content,n=e.status,o=r;try{o=JSON.parse(r).message}catch(e){}return function(e,t,r){return{name:"ApiError",message:e,status:t,transporterStackTrace:r}}(o,n,t)}(e,A(u))}};return e.requester.send(d).then((function(e){return function(e,t){return function(e){var t=e.status;return e.isTimedOut||function(e){var t=e.isTimedOut,r=e.status;return!t&&0==~~r}(e)||2!=~~(t/100)&&4!=~~(t/100)}(e)?t.onRetry(e):2==~~(e.status/100)?t.onSucess(e):t.onFail(e)}(e,m)}))};return S(e.hostsCache,t).then((function(e){return d(a(e.statelessHosts).reverse(),e.getTimeout)}))}function D(e){var t=e.hostsCache,r=e.logger,n=e.requester,a=e.requestsCache,u=e.responsesCache,s=e.timeouts,i=e.userAgent,c=e.hosts,f=e.queryParameters,l={hostsCache:t,logger:r,requester:n,requestsCache:a,responsesCache:u,timeouts:s,userAgent:i,headers:e.headers,queryParameters:f,hosts:c.map((function(e){return w(e)})),read:function(e,t){var r=y(t,l.timeouts.read),n=function(){return q(l,l.hosts.filter((function(e){return 0!=(e.accept&g.Read)})),e,r)};if(!0!==(void 0!==r.cacheable?r.cacheable:e.cacheable))return n();var a={request:e,mappedRequestOptions:r,transporter:{queryParameters:l.queryParameters,headers:l.headers}};return l.responsesCache.get(a,(function(){return l.requestsCache.get(a,(function(){return l.requestsCache.set(a,n()).then((function(e){return Promise.all([l.requestsCache.delete(a),e])}),(function(e){return Promise.all([l.requestsCache.delete(a),Promise.reject(e)])})).then((function(e){var t=o(e,2);return t[0],t[1]}))}))}),{miss:function(e){return l.responsesCache.set(a,e)}})},write:function(e,t){return q(l,l.hosts.filter((function(e){return 0!=(e.accept&g.Write)})),e,y(t,l.timeouts.write))}};return l}function N(e){var t={value:"Algolia for JavaScript (".concat(e,")"),add:function(e){var r="; ".concat(e.segment).concat(void 0!==e.version?" (".concat(e.version,")"):"");return-1===t.value.indexOf(r)&&(t.value="".concat(t.value).concat(r)),t}};return t}function T(e,t,r){var n=R(r),o="".concat(e.protocol,"://").concat(e.url,"/").concat("/"===t.charAt(0)?t.substr(1):t);return n.length&&(o+="?".concat(n)),o}function R(e){return Object.keys(e).map((function(t){return h("%s=%s",t,(r=e[t],"[object Object]"===Object.prototype.toString.call(r)||"[object Array]"===Object.prototype.toString.call(r)?JSON.stringify(e[t]):e[t]));var r})).join("&")}function A(e){return e.map((function(e){return E(e)}))}function E(e){var t=e.request.headers["x-algolia-api-key"]?{"x-algolia-api-key":"*****"}:{};return r({},e,{request:r({},e.request,{headers:r({},e.request.headers,{},t)})})}var C=function(e){return function(t,r){return e.transporter.write({method:I,path:"2/abtests",data:t},r)}},U=function(e){return function(t,r){return e.transporter.write({method:x,path:h("2/abtests/%s",t)},r)}},F=function(e){return function(t,r){return e.transporter.read({method:P,path:h("2/abtests/%s",t)},r)}},J=function(e){return function(t){return e.transporter.read({method:P,path:"2/abtests"},t)}},z=function(e){return function(t,r){return e.transporter.write({method:I,path:h("2/abtests/%s/stop",t)},r)}},B=function(e){return function(t){return e.transporter.read({method:P,path:"1/strategies/personalization"},t)}},H=function(e){return function(t,r){return e.transporter.write({method:I,path:"1/strategies/personalization",data:t},r)}};function M(e){return function t(r){return e.request(r).then((function(n){if(void 0!==e.batch&&e.batch(n.hits),!e.shouldStop(n))return n.cursor?t({cursor:n.cursor}):t({page:(r.page||0)+1})}))}({})}var K=function(e){return function(t,o){var a=o||{},u=a.queryParameters,s=n(a,["queryParameters"]),i=r({acl:t},void 0!==u?{queryParameters:u}:{});return l(e.transporter.write({method:I,path:"1/keys",data:i},s),(function(t,r){return f((function(n){return X(e)(t.key,r).catch((function(e){if(404!==e.status)throw e;return n()}))}))}))}},W=function(e){return function(t,r,n){var o=y(n);return o.queryParameters["X-Algolia-User-ID"]=t,e.transporter.write({method:I,path:"1/clusters/mapping",data:{cluster:r}},o)}},Q=function(e){return function(t,r,n){return e.transporter.write({method:I,path:"1/clusters/mapping/batch",data:{users:t,cluster:r}},n)}},$=function(e){return function(t,r,n){return l(e.transporter.write({method:I,path:h("1/indexes/%s/operation",t),data:{operation:"copy",destination:r}},n),(function(r,n){return re(e)(t,{methods:{waitTask:et}}).waitTask(r.taskID,n)}))}},G=function(e){return function(t,n,o){return $(e)(t,n,r({},o,{scope:[rt.Rules]}))}},L=function(e){return function(t,n,o){return $(e)(t,n,r({},o,{scope:[rt.Settings]}))}},V=function(e){return function(t,n,o){return $(e)(t,n,r({},o,{scope:[rt.Synonyms]}))}},_=function(e){return function(t,r){return l(e.transporter.write({method:x,path:h("1/keys/%s",t)},r),(function(r,n){return f((function(r){return X(e)(t,n).then(r).catch((function(e){if(404!==e.status)throw e}))}))}))}},X=function(e){return function(t,r){return e.transporter.read({method:P,path:h("1/keys/%s",t)},r)}},Y=function(e){return function(t){return e.transporter.read({method:P,path:"1/logs"},t)}},Z=function(e){return function(t){return e.transporter.read({method:P,path:"1/clusters/mapping/top"},t)}},ee=function(e){return function(t,r){return e.transporter.read({method:P,path:h("1/clusters/mapping/%s",t)},r)}},te=function(e){return function(t){var r=t||{},o=r.retrieveMappings,a=n(r,["retrieveMappings"]);return!0===o&&(a.getClusters=!0),e.transporter.read({method:P,path:"1/clusters/mapping/pending"},a)}},re=function(e){return function(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return d({transporter:e.transporter,appId:e.appId,indexName:t},r.methods)}},ne=function(e){return function(t){return e.transporter.read({method:P,path:"1/keys"},t)}},oe=function(e){return function(t){return e.transporter.read({method:P,path:"1/clusters"},t)}},ae=function(e){return function(t){return e.transporter.read({method:P,path:"1/indexes"},t)}},ue=function(e){return function(t){return e.transporter.read({method:P,path:"1/clusters/mapping"},t)}},se=function(e){return function(t,r,n){return l(e.transporter.write({method:I,path:h("1/indexes/%s/operation",t),data:{operation:"move",destination:r}},n),(function(r,n){return re(e)(t,{methods:{waitTask:et}}).waitTask(r.taskID,n)}))}},ie=function(e){return function(t,r){return l(e.transporter.write({method:I,path:"1/indexes/*/batch",data:{requests:t}},r),(function(t,r){return Promise.all(Object.keys(t.taskID).map((function(n){return re(e)(n,{methods:{waitTask:et}}).waitTask(t.taskID[n],r)})))}))}},ce=function(e){return function(t,r){return e.transporter.read({method:I,path:"1/indexes/*/objects",data:{requests:t}},r)}},fe=function(e){return function(t,n){var o=t.map((function(e){return r({},e,{params:R(e.params||{})})}));return e.transporter.read({method:I,path:"1/indexes/*/queries",data:{requests:o},cacheable:!0},n)}},le=function(e){return function(t,o){return Promise.all(t.map((function(t){var a=t.params,u=a.facetName,s=a.facetQuery,i=n(a,["facetName","facetQuery"]);return re(e)(t.indexName,{methods:{searchForFacetValues:_e}}).searchForFacetValues(u,s,r({},o,{},i))})))}},pe=function(e){return function(t,r){var n=y(r);return n.queryParameters["X-Algolia-User-ID"]=t,e.transporter.write({method:x,path:"1/clusters/mapping"},n)}},de=function(e){return function(t,r){return l(e.transporter.write({method:I,path:h("1/keys/%s/restore",t)},r),(function(r,n){return f((function(r){return X(e)(t,n).catch((function(e){if(404!==e.status)throw e;return r()}))}))}))}},he=function(e){return function(t,r){return e.transporter.read({method:I,path:"1/clusters/mapping/search",data:{query:t}},r)}},me=function(e){return function(t,r){var o=Object.assign({},r),a=r||{},u=a.queryParameters,s=n(a,["queryParameters"]),i=u?{queryParameters:u}:{},c=["acl","indexes","referers","restrictSources","queryParameters","description","maxQueriesPerIPPerHour","maxHitsPerQuery"];return l(e.transporter.write({method:k,path:h("1/keys/%s",t),data:i},s),(function(r,n){return f((function(r){return X(e)(t,n).then((function(e){return function(e){return Object.keys(o).filter((function(e){return-1!==c.indexOf(e)})).every((function(t){return e[t]===o[t]}))}(e)?Promise.resolve():r()}))}))}))}},ye=function(e){return function(t,r){return l(e.transporter.write({method:I,path:h("1/indexes/%s/batch",e.indexName),data:{requests:t}},r),(function(t,r){return et(e)(t.taskID,r)}))}},ge=function(e){return function(t){return M(r({},t,{shouldStop:function(e){return void 0===e.cursor},request:function(r){return e.transporter.read({method:I,path:h("1/indexes/%s/browse",e.indexName),data:r},t)}}))}},ve=function(e){return function(t){var n=r({hitsPerPage:1e3},t);return M(r({},n,{shouldStop:function(e){return e.hits.length<n.hitsPerPage},request:function(t){return Xe(e)("",r({},n,{},t)).then((function(e){return r({},e,{hits:e.hits.map((function(e){return delete e._highlightResult,e}))})}))}}))}},be=function(e){return function(t){var n=r({hitsPerPage:1e3},t);return M(r({},n,{shouldStop:function(e){return e.hits.length<n.hitsPerPage},request:function(t){return Ye(e)("",r({},n,{},t)).then((function(e){return r({},e,{hits:e.hits.map((function(e){return delete e._highlightResult,e}))})}))}}))}},je=function(e){return function(t,r,o){var a=o||{},u=a.batchSize,s=n(a,["batchSize"]),i={taskIDs:[],objectIDs:[]};return l(function n(){var o,a=[];for(o=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;o<t.length&&(a.push(t[o]),a.length!==(u||1e3));o++);return 0===a.length?Promise.resolve(i):ye(e)(a.map((function(e){return{action:r,body:e}})),s).then((function(e){return i.objectIDs=i.objectIDs.concat(e.objectIDs),i.taskIDs.push(e.taskID),o++,n(o)}))}(),(function(t,r){return Promise.all(t.taskIDs.map((function(t){return et(e)(t,r)})))}))}},Oe=function(e){return function(t){return l(e.transporter.write({method:I,path:h("1/indexes/%s/clear",e.indexName)},t),(function(t,r){return et(e)(t.taskID,r)}))}},we=function(e){return function(t){var r=t||{},o=r.forwardToReplicas,a=y(n(r,["forwardToReplicas"]));return o&&(a.queryParameters.forwardToReplicas=1),l(e.transporter.write({method:I,path:h("1/indexes/%s/rules/clear",e.indexName)},a),(function(t,r){return et(e)(t.taskID,r)}))}},xe=function(e){return function(t){var r=t||{},o=r.forwardToReplicas,a=y(n(r,["forwardToReplicas"]));return o&&(a.queryParameters.forwardToReplicas=1),l(e.transporter.write({method:I,path:h("1/indexes/%s/synonyms/clear",e.indexName)},a),(function(t,r){return et(e)(t.taskID,r)}))}},Pe=function(e){return function(t,r){return l(e.transporter.write({method:I,path:h("1/indexes/%s/deleteByQuery",e.indexName),data:t},r),(function(t,r){return et(e)(t.taskID,r)}))}},Ie=function(e){return function(t){return l(e.transporter.write({method:x,path:h("1/indexes/%s",e.indexName)},t),(function(t,r){return et(e)(t.taskID,r)}))}},ke=function(e){return function(t,r){return l(Se(e)([t],r).then((function(e){return{taskID:e.taskIDs[0]}})),(function(t,r){return et(e)(t.taskID,r)}))}},Se=function(e){return function(t,r){var n=t.map((function(e){return{objectID:e}}));return je(e)(n,tt.DeleteObject,r)}},qe=function(e){return function(t,r){var o=r||{},a=o.forwardToReplicas,u=y(n(o,["forwardToReplicas"]));return a&&(u.queryParameters.forwardToReplicas=1),l(e.transporter.write({method:x,path:h("1/indexes/%s/rules/%s",e.indexName,t)},u),(function(t,r){return et(e)(t.taskID,r)}))}},De=function(e){return function(t,r){var o=r||{},a=o.forwardToReplicas,u=y(n(o,["forwardToReplicas"]));return a&&(u.queryParameters.forwardToReplicas=1),l(e.transporter.write({method:x,path:h("1/indexes/%s/synonyms/%s",e.indexName,t)},u),(function(t,r){return et(e)(t.taskID,r)}))}},Ne=function(e){return function(t){return Ue(e)(t).then((function(){return!0})).catch((function(e){if(404!==e.status)throw e;return!1}))}},Te=function(e){return function(t,a){var u=a||{},s=u.query,i=u.paginate,c=n(u,["query","paginate"]),f=0;return function n(){return Ve(e)(s||"",r({},c,{page:f})).then((function(e){for(var r=0,a=Object.entries(e.hits);r<a.length;r++){var u=o(a[r],2),s=u[0],c=u[1];if(t(c))return{object:c,position:parseInt(s,10),page:f}}if(f++,!1===i||f>=e.nbPages)throw{name:"ObjectNotFoundError",message:"Object not found."};return n()}))}()}},Re=function(e){return function(t,r){return e.transporter.read({method:P,path:h("1/indexes/%s/%s",e.indexName,t)},r)}},Ae=function(){return function(e,t){for(var r=0,n=Object.entries(e.hits);r<n.length;r++){var a=o(n[r],2),u=a[0];if(a[1].objectID===t)return parseInt(u,10)}return-1}},Ee=function(e){return function(t,o){var a=o||{},u=a.attributesToRetrieve,s=n(a,["attributesToRetrieve"]),i=t.map((function(t){return r({indexName:e.indexName,objectID:t},u?{attributesToRetrieve:u}:{})}));return e.transporter.read({method:I,path:"1/indexes/*/objects",data:{requests:i}},s)}},Ce=function(e){return function(t,r){return e.transporter.read({method:P,path:h("1/indexes/%s/rules/%s",e.indexName,t)},r)}},Ue=function(e){return function(t){return e.transporter.read({method:P,path:h("1/indexes/%s/settings",e.indexName),data:{getVersion:2}},t)}},Fe=function(e){return function(t,r){return e.transporter.read({method:P,path:h("1/indexes/%s/synonyms/%s",e.indexName,t)},r)}},Je=function(e){return function(t,r){return l(ze(e)([t],r).then((function(e){return{objectID:e.objectIDs[0],taskID:e.taskIDs[0]}})),(function(t,r){return et(e)(t.taskID,r)}))}},ze=function(e){return function(t,r){var o=r||{},a=o.createIfNotExists,u=n(o,["createIfNotExists"]),s=a?tt.PartialUpdateObject:tt.PartialUpdateObjectNoCreate;return je(e)(t,s,u)}},Be=function(e){return function(t,u){var s=u||{},i=s.safe,c=s.autoGenerateObjectIDIfNotExist,f=s.batchSize,p=n(s,["safe","autoGenerateObjectIDIfNotExist","batchSize"]),d=function(t,r,n,o){return l(e.transporter.write({method:I,path:h("1/indexes/%s/operation",t),data:{operation:n,destination:r}},o),(function(t,r){return et(e)(t.taskID,r)}))},m=Math.random().toString(36).substring(7),y="".concat(e.indexName,"_tmp_").concat(m),g=We({appId:e.appId,transporter:e.transporter,indexName:y}),v=[],b=d(e.indexName,y,"copy",r({},p,{scope:["settings","synonyms","rules"]}));return v.push(b),l((i?b.wait(p):b).then((function(){var e=g(t,r({},p,{autoGenerateObjectIDIfNotExist:c,batchSize:f}));return v.push(e),i?e.wait(p):e})).then((function(){var t=d(y,e.indexName,"move",p);return v.push(t),i?t.wait(p):t})).then((function(){return Promise.all(v)})).then((function(e){var t=o(e,3),r=t[0],n=t[1],u=t[2];return{objectIDs:n.objectIDs,taskIDs:[r.taskID].concat(a(n.taskIDs),[u.taskID])}})),(function(e,t){return Promise.all(v.map((function(e){return e.wait(t)})))}))}},He=function(e){return function(t,n){return $e(e)(t,r({},n,{clearExistingRules:!0}))}},Me=function(e){return function(t,n){return Le(e)(t,r({},n,{replaceExistingSynonyms:!0}))}},Ke=function(e){return function(t,r){return l(We(e)([t],r).then((function(e){return{objectID:e.objectIDs[0],taskID:e.taskIDs[0]}})),(function(t,r){return et(e)(t.taskID,r)}))}},We=function(e){return function(t,r){var o=r||{},a=o.autoGenerateObjectIDIfNotExist,u=n(o,["autoGenerateObjectIDIfNotExist"]),s=a?tt.AddObject:tt.UpdateObject;if(s===tt.UpdateObject){var i=!0,c=!1,f=void 0;try{for(var p,d=t[Symbol.iterator]();!(i=(p=d.next()).done);i=!0)if(void 0===p.value.objectID)return l(Promise.reject({name:"MissingObjectIDError",message:"All objects must have an unique objectID (like a primary key) to be valid. Algolia is also able to generate objectIDs automatically but *it's not recommended*. To do it, use the `{'autoGenerateObjectIDIfNotExist': true}` option."}))}catch(e){c=!0,f=e}finally{try{i||null==d.return||d.return()}finally{if(c)throw f}}}return je(e)(t,s,u)}},Qe=function(e){return function(t,r){return $e(e)([t],r)}},$e=function(e){return function(t,r){var o=r||{},a=o.forwardToReplicas,u=o.clearExistingRules,s=y(n(o,["forwardToReplicas","clearExistingRules"]));return a&&(s.queryParameters.forwardToReplicas=1),u&&(s.queryParameters.clearExistingRules=1),l(e.transporter.write({method:I,path:h("1/indexes/%s/rules/batch",e.indexName),data:t},s),(function(t,r){return et(e)(t.taskID,r)}))}},Ge=function(e){return function(t,r){return Le(e)([t],r)}},Le=function(e){return function(t,r){var o=r||{},a=o.forwardToReplicas,u=o.replaceExistingSynonyms,s=y(n(o,["forwardToReplicas","replaceExistingSynonyms"]));return a&&(s.queryParameters.forwardToReplicas=1),u&&(s.queryParameters.replaceExistingSynonyms=1),l(e.transporter.write({method:I,path:h("1/indexes/%s/synonyms/batch",e.indexName),data:t},s),(function(t,r){return et(e)(t.taskID,r)}))}},Ve=function(e){return function(t,r){return e.transporter.read({method:I,path:h("1/indexes/%s/query",e.indexName),data:{query:t},cacheable:!0},r)}},_e=function(e){return function(t,r,n){return e.transporter.read({method:I,path:h("1/indexes/%s/facets/%s/query",e.indexName,t),data:{facetQuery:r},cacheable:!0},n)}},Xe=function(e){return function(t,r){return e.transporter.read({method:I,path:h("1/indexes/%s/rules/search",e.indexName),data:{query:t}},r)}},Ye=function(e){return function(t,r){return e.transporter.read({method:I,path:h("1/indexes/%s/synonyms/search",e.indexName),data:{query:t}},r)}},Ze=function(e){return function(t,r){var o=r||{},a=o.forwardToReplicas,u=y(n(o,["forwardToReplicas"]));return a&&(u.queryParameters.forwardToReplicas=1),l(e.transporter.write({method:k,path:h("1/indexes/%s/settings",e.indexName),data:t},u),(function(t,r){return et(e)(t.taskID,r)}))}},et=function(e){return function(t,r){return f((function(n){return function(e){return function(t,r){return e.transporter.read({method:P,path:h("1/indexes/%s/task/%s",e.indexName,t.toString())},r)}}(e)(t,r).then((function(e){return"published"!==e.status?n():void 0}))}))}},tt={AddObject:"addObject",UpdateObject:"updateObject",PartialUpdateObject:"partialUpdateObject",PartialUpdateObjectNoCreate:"partialUpdateObjectNoCreate",DeleteObject:"deleteObject"},rt={Settings:"settings",Synonyms:"synonyms",Rules:"rules"},nt=1,ot=2,at=3;function ut(e,t,n){var o,a={appId:e,apiKey:t,timeouts:{connect:1,read:2,write:30},requester:{send:function(e){return new Promise((function(t){var r=new XMLHttpRequest;r.open(e.method,e.url,!0),Object.keys(e.headers).forEach((function(t){return r.setRequestHeader(t,e.headers[t])}));var n,o=function(e,n){return setTimeout((function(){r.abort(),t({status:0,content:n,isTimedOut:!0})}),1e3*e)},a=o(e.connectTimeout,"Connection timeout");r.onreadystatechange=function(){r.readyState>r.OPENED&&void 0===n&&(clearTimeout(a),n=o(e.responseTimeout,"Socket timeout"))},r.onerror=function(){0===r.status&&(clearTimeout(a),clearTimeout(n),t({content:r.responseText||"Network request failed",status:r.status,isTimedOut:!1}))},r.onload=function(){clearTimeout(a),clearTimeout(n),t({content:r.responseText,status:r.status,isTimedOut:!1})},r.send(e.data)}))}},logger:(o=at,{debug:function(e,t){return nt>=o&&console.debug(e,t),Promise.resolve()},info:function(e,t){return ot>=o&&console.info(e,t),Promise.resolve()},error:function(e,t){return console.error(e,t),Promise.resolve()}}),responsesCache:i(),requestsCache:i({serializable:!1}),hostsCache:s({caches:[u({key:"".concat("4.2.0","-").concat(e)}),i()]}),userAgent:N("4.2.0").add({segment:"Browser"})};return function(e){var t=e.appId,n=c(void 0!==e.authMode?e.authMode:m.WithinHeaders,t,e.apiKey),o=D(r({hosts:[{url:"".concat(t,"-dsn.algolia.net"),accept:g.Read},{url:"".concat(t,".algolia.net"),accept:g.Write}].concat(p([{url:"".concat(t,"-1.algolianet.com")},{url:"".concat(t,"-2.algolianet.com")},{url:"".concat(t,"-3.algolianet.com")}]))},e,{headers:r({},n.headers(),{},{"content-type":"application/x-www-form-urlencoded"},{},e.headers),queryParameters:r({},n.queryParameters(),{},e.queryParameters)}));return d({transporter:o,appId:t,addAlgoliaAgent:function(e,t){o.userAgent.add({segment:e,version:t})},clearCache:function(){return Promise.all([o.requestsCache.clear(),o.responsesCache.clear()]).then((function(){}))}},e.methods)}(r({},a,{},n,{methods:{search:fe,searchForFacetValues:le,multipleBatch:ie,multipleGetObjects:ce,multipleQueries:fe,copyIndex:$,copySettings:L,copySynonyms:V,copyRules:G,moveIndex:se,listIndices:ae,getLogs:Y,listClusters:oe,multipleSearchForFacetValues:le,getApiKey:X,addApiKey:K,listApiKeys:ne,updateApiKey:me,deleteApiKey:_,restoreApiKey:de,assignUserID:W,assignUserIDs:Q,getUserID:ee,searchUserIDs:he,listUserIDs:ue,getTopUserIDs:Z,removeUserID:pe,hasPendingMappings:te,initIndex:function(e){return function(t){return re(e)(t,{methods:{batch:ye,delete:Ie,getObject:Re,getObjects:Ee,saveObject:Ke,saveObjects:We,search:Ve,searchForFacetValues:_e,waitTask:et,setSettings:Ze,getSettings:Ue,partialUpdateObject:Je,partialUpdateObjects:ze,deleteObject:ke,deleteObjects:Se,deleteBy:Pe,clearObjects:Oe,browseObjects:ge,getObjectPosition:Ae,findObject:Te,exists:Ne,saveSynonym:Ge,saveSynonyms:Le,getSynonym:Fe,searchSynonyms:Ye,browseSynonyms:be,deleteSynonym:De,clearSynonyms:xe,replaceAllObjects:Be,replaceAllSynonyms:Me,searchRules:Xe,getRule:Ce,deleteRule:qe,saveRule:Qe,saveRules:$e,replaceAllRules:He,browseRules:ve,clearRules:we}})}},initAnalytics:function(){return function(e){return function(e){var t=e.region||"us",n=c(m.WithinHeaders,e.appId,e.apiKey),o=D(r({hosts:[{url:"analytics.".concat(t,".algolia.com")}]},e,{headers:r({},n.headers(),{},{"content-type":"application/json"},{},e.headers),queryParameters:r({},n.queryParameters(),{},e.queryParameters)}));return d({appId:e.appId,transporter:o},e.methods)}(r({},a,{},e,{methods:{addABTest:C,getABTest:F,getABTests:J,stopABTest:z,deleteABTest:U}}))}},initRecommendation:function(){return function(e){return function(e){var t=e.region||"us",n=c(m.WithinHeaders,e.appId,e.apiKey),o=D(r({hosts:[{url:"recommendation.".concat(t,".algolia.com")}]},e,{headers:r({},n.headers(),{},{"content-type":"application/json"},{},e.headers),queryParameters:r({},n.queryParameters(),{},e.queryParameters)}));return d({appId:e.appId,transporter:o},e.methods)}(r({},a,{},e,{methods:{getPersonalizationStrategy:B,setPersonalizationStrategy:H}}))}}}}))}return ut.version="4.2.0",ut}()}}]);